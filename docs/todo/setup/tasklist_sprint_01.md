# Task List: Sprint 1 - Boilerplate & UI Scaffolding

**Goal:** To establish the project's foundation by setting up the VS Code extension with a SvelteKit frontend and Fluent UI.

| Task ID | Status | Task Description (Sequential & Atomic Steps) | File(s) To Modify |
| :--- | :--- | :--- | :--- |
| **1.1** | ☐ To Do | **Generate VS Code Extension:** Run `npx yo code` in your project's root directory. When prompted, select "New Extension (TypeScript)", provide a suitable name (e.g., "Code Context Engine"), and accept default configurations for linting and Git initialization. | `(Project Root)` |
| **1.2** | ☐ To Do | **Initialize SvelteKit Project:** Navigate into the newly created `webview` directory (e.g., `cd webview`). Run `npm create svelte@latest .` and select "Skeleton project", "TypeScript", "ESLint", "Prettier", and "Vitest" when prompted. | `webview/` |
| **1.3** | ☐ To Do | **Install SvelteKit Dependencies:** After initializing SvelteKit, run `npm install` inside the `webview` directory to install its dependencies. | `webview/package.json` |
| **1.4** | ☐ To Do | **Install Fluent UI Dependencies:** While still in the `webview` directory, install the Fluent UI web components: `npm install @fluentui/web-components`. | `webview/package.json` |
| **1.5** | ☐ To Do | **Create Webview Panel Logic:** Open `src/extension.ts`. Add TypeScript code within the `activate` function to create and manage a `WebviewPanel` that will host the SvelteKit application. This involves using `vscode.window.createWebviewPanel` and setting `enableScripts: true`. | `src/extension.ts` |
| **1.6** | ☐ To Do | **Load Svelte App in Webview:** In `src/extension.ts`, configure the webview to load the compiled `index.html` from the SvelteKit `dist` directory. Ensure you use `vscode.Uri.file` and `path.join` to construct the correct absolute path, and handle relative paths for SvelteKit assets (e.g., `/_app/`) by converting them to `webview.asWebviewUri`. | `src/extension.ts` |
| **1.7** | ☐ To Do | **Build SvelteKit App:** Navigate to the `webview` directory (`cd webview`) and run `npm run build` to compile the SvelteKit application into the `dist` folder. This step must be completed before the extension can load the webview. | `webview/` |
| **1.8** | ☐ To Do | **Build Main UI Component:** Create a new Svelte component (e.g., `webview/src/routes/+page.svelte` or `webview/src/lib/MainPanel.svelte`). Implement a basic UI displaying a `<fluent-button>` with the text "Index Now" and a `<fluent-progress-ring>` from the Fluent UI library. Register the Fluent UI components using `provideFluentDesignSystem().register()`. | `webview/src/routes/+page.svelte` or `webview/src/lib/MainPanel.svelte` |
| **1.9** | ☐ To Do | **Implement Theme Handling:** In `webview/src/app.css` (or within your Svelte component's `<style>` tags), use VS Code theme CSS variables (e.g., `--vscode-editor-background`, `--vscode-button-background`) to ensure Fluent UI components automatically adapt to light/dark modes. Apply these to the `body` and relevant Fluent UI custom properties. | `webview/src/app.css` or `webview/src/routes/+page.svelte` |
| **1.10** | ☐ To Do | **Test Extension:** Press `F5` in VS Code to run the extension in a development host. Execute the command to open your extension's UI panel. Verify that the SvelteKit app loads correctly, the "Index Now" button and progress bar are visible, and the UI adapts to theme changes. | `(Launch Configuration)` |
